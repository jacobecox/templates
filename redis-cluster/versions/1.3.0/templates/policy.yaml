kind: policy
name: {{ include "redis-cluster.policyName" . }}
description: Redis Cluster Policy
tags: {{- include "redis-cluster.tags" . | nindent 4 }}
origin: default
bindings:
  - permissions:
      - reveal
    principalLinks:
      - //gvc/{{ .Values.global.cpln.gvc }}/identity/{{ include "redis-cluster.identityName" . }}
targetKind: secret
targetLinks:
  - //secret/{{ include "redis-cluster.secretConfigName" . }}
  - //secret/{{ include "redis-cluster.secretStartupName" . }}
  {{- if .Values.redis.password }}
  - //secret/{{ include "redis-cluster.secretAuthPasswordName" . }}
  {{- end }}