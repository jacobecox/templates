{{- if .Values.secrets.create }}
kind: secret
name: {{ .Values.secrets.name }}
description: Secrets for Task Runner
type: opaque
data:
  encoding: plain
  payload:
    {{- if .Values.redis.password }}
    redis-password: {{ .Values.redis.password | quote }}
    {{- else }}
    redis-password: ""
    {{- end }}
    {{- if .Values.api.env.adminApiKey }}
    admin-api-key: {{ .Values.api.env.adminApiKey | quote }}
    {{- else }}
    admin-api-key: ""
    {{- end }}
{{- end }}
