kind: secret
name: {{ include "nats.secretName" . }}
description: NATS configuration secret
tags: {{- include "nats.tags" . | nindent 4 }}
type: opaque
data:
  encoding: plain
  payload: |-
    {{ .Values | toYaml | nindent 4 }}

---

{{- if and .Values.nats_extra_config (ne .Values.nats_extra_config "") }}
kind: secret
name: {{ include "nats.extraDataName" . }}
description: NATS placeholder for extra data
tags: {{- include "nats.tags" . | nindent 4 }}
type: opaque
data:
  encoding: plain
  payload: |-
{{ .Values.nats_extra_config | nindent 4 }}
{{- end }}
