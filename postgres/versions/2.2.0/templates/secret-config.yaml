kind: secret
name: {{ .Release.Name }}-pg-config
description: Postgres config
tags:
  {{- include "pg.tags" . | nindent 4 }}
type: dictionary
data:
  username: {{ .Values.config.username }}
  password: {{ .Values.config.password }}
{{- if .Values.backup.aws.enabled }}
  backup-bucket: {{ .Values.backup.aws.s3.bucket }}
  aws-region: {{ .Values.backup.aws.s3.region }}
{{- end }}
{{- if .Values.backup.gcp.enabled }}
  backup-bucket: {{ .Values.backup.gcp.gcs.bucket }}
{{- end }}